<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libpcp: _pcp_key_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libpcp
   &#160;<span id="projectnumber">0.2.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="struct__pcp__key__t-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">_pcp_key_t Struct Reference<div class="ingroups"><a class="el" href="group__KEYS.html">KEYS</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>PCP private key structure.  
 <a href="struct__pcp__key__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="key_8h_source.html">key.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a776b37491c8bfd98de8f239bb9a41695"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#a776b37491c8bfd98de8f239bb9a41695">masterpub</a> [32]</td></tr>
<tr class="memdesc:a776b37491c8bfd98de8f239bb9a41695"><td class="mdescLeft">&#160;</td><td class="mdescRight">ED25519 master public key signing key.  <a href="#a776b37491c8bfd98de8f239bb9a41695"></a><br/></td></tr>
<tr class="separator:a776b37491c8bfd98de8f239bb9a41695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df2e9e13765ae54213fb0e9cad65173"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#a0df2e9e13765ae54213fb0e9cad65173">mastersecret</a> [64]</td></tr>
<tr class="memdesc:a0df2e9e13765ae54213fb0e9cad65173"><td class="mdescLeft">&#160;</td><td class="mdescRight">ED25519 master secret key signing key.  <a href="#a0df2e9e13765ae54213fb0e9cad65173"></a><br/></td></tr>
<tr class="separator:a0df2e9e13765ae54213fb0e9cad65173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf48278152e33968e634a4a5aea1076c"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#abf48278152e33968e634a4a5aea1076c">pub</a> [32]</td></tr>
<tr class="memdesc:abf48278152e33968e634a4a5aea1076c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Curve25519 encryption public key.  <a href="#abf48278152e33968e634a4a5aea1076c"></a><br/></td></tr>
<tr class="separator:abf48278152e33968e634a4a5aea1076c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d2a4ac0d698bc759b2a814f28d15282"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#a6d2a4ac0d698bc759b2a814f28d15282">secret</a> [32]</td></tr>
<tr class="memdesc:a6d2a4ac0d698bc759b2a814f28d15282"><td class="mdescLeft">&#160;</td><td class="mdescRight">Curve25519 encryption secret key.  <a href="#a6d2a4ac0d698bc759b2a814f28d15282"></a><br/></td></tr>
<tr class="separator:a6d2a4ac0d698bc759b2a814f28d15282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fbb76c6d2988ee039966c19e64440ef"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#a5fbb76c6d2988ee039966c19e64440ef">edpub</a> [32]</td></tr>
<tr class="memdesc:a5fbb76c6d2988ee039966c19e64440ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">ED25519 public signing key.  <a href="#a5fbb76c6d2988ee039966c19e64440ef"></a><br/></td></tr>
<tr class="separator:a5fbb76c6d2988ee039966c19e64440ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420b3fd1bc46d668c088c8360a53838d"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#a420b3fd1bc46d668c088c8360a53838d">edsecret</a> [64]</td></tr>
<tr class="memdesc:a420b3fd1bc46d668c088c8360a53838d"><td class="mdescLeft">&#160;</td><td class="mdescRight">ED25519 secret signing key.  <a href="#a420b3fd1bc46d668c088c8360a53838d"></a><br/></td></tr>
<tr class="separator:a420b3fd1bc46d668c088c8360a53838d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4363b752a7242f0d789ec8ca75e1c426"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#a4363b752a7242f0d789ec8ca75e1c426">nonce</a> [24]</td></tr>
<tr class="memdesc:a4363b752a7242f0d789ec8ca75e1c426"><td class="mdescLeft">&#160;</td><td class="mdescRight">random nonce used to encrypt secret keys  <a href="#a4363b752a7242f0d789ec8ca75e1c426"></a><br/></td></tr>
<tr class="separator:a4363b752a7242f0d789ec8ca75e1c426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1da3d67421a27665dfe207403364a349"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#a1da3d67421a27665dfe207403364a349">encrypted</a> [176]</td></tr>
<tr class="memdesc:a1da3d67421a27665dfe207403364a349"><td class="mdescLeft">&#160;</td><td class="mdescRight">concatenated and encrypted secret keys  <a href="#a1da3d67421a27665dfe207403364a349"></a><br/></td></tr>
<tr class="separator:a1da3d67421a27665dfe207403364a349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a058c2dce0c18939b2b6b7b0272a7095d"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#a058c2dce0c18939b2b6b7b0272a7095d">owner</a> [255]</td></tr>
<tr class="memdesc:a058c2dce0c18939b2b6b7b0272a7095d"><td class="mdescLeft">&#160;</td><td class="mdescRight">the key owner, string  <a href="#a058c2dce0c18939b2b6b7b0272a7095d"></a><br/></td></tr>
<tr class="separator:a058c2dce0c18939b2b6b7b0272a7095d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6259d3e70f1ae793398e2e83eba9ae6d"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#a6259d3e70f1ae793398e2e83eba9ae6d">mail</a> [255]</td></tr>
<tr class="memdesc:a6259d3e70f1ae793398e2e83eba9ae6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">mail address of the owner, string  <a href="#a6259d3e70f1ae793398e2e83eba9ae6d"></a><br/></td></tr>
<tr class="separator:a6259d3e70f1ae793398e2e83eba9ae6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99e0435c5d7a074e5969e7a83bc93f67"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#a99e0435c5d7a074e5969e7a83bc93f67">id</a> [17]</td></tr>
<tr class="memdesc:a99e0435c5d7a074e5969e7a83bc93f67"><td class="mdescLeft">&#160;</td><td class="mdescRight">key-id, used internally only, jenhash of public keys  <a href="#a99e0435c5d7a074e5969e7a83bc93f67"></a><br/></td></tr>
<tr class="separator:a99e0435c5d7a074e5969e7a83bc93f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cefa1a4a2d1a49361aac5a3fb8d988f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#a5cefa1a4a2d1a49361aac5a3fb8d988f">type</a></td></tr>
<tr class="memdesc:a5cefa1a4a2d1a49361aac5a3fb8d988f"><td class="mdescLeft">&#160;</td><td class="mdescRight">key type: MASTER_SECRET or SECRET  <a href="#a5cefa1a4a2d1a49361aac5a3fb8d988f"></a><br/></td></tr>
<tr class="separator:a5cefa1a4a2d1a49361aac5a3fb8d988f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac848ee41e72b2d4da0a85288f90165fa"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#ac848ee41e72b2d4da0a85288f90165fa">ctime</a></td></tr>
<tr class="memdesc:ac848ee41e72b2d4da0a85288f90165fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">creation time, epoch  <a href="#ac848ee41e72b2d4da0a85288f90165fa"></a><br/></td></tr>
<tr class="separator:ac848ee41e72b2d4da0a85288f90165fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9f00779fcbbedaf0b17caa3f3a6fa30"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#af9f00779fcbbedaf0b17caa3f3a6fa30">version</a></td></tr>
<tr class="memdesc:af9f00779fcbbedaf0b17caa3f3a6fa30"><td class="mdescLeft">&#160;</td><td class="mdescRight">key version  <a href="#af9f00779fcbbedaf0b17caa3f3a6fa30"></a><br/></td></tr>
<tr class="separator:af9f00779fcbbedaf0b17caa3f3a6fa30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06aa6c7284118608fd6573a54372e263"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__pcp__key__t.html#a06aa6c7284118608fd6573a54372e263">serial</a></td></tr>
<tr class="memdesc:a06aa6c7284118608fd6573a54372e263"><td class="mdescLeft">&#160;</td><td class="mdescRight">serial number of the key, randomly generated  <a href="#a06aa6c7284118608fd6573a54372e263"></a><br/></td></tr>
<tr class="separator:a06aa6c7284118608fd6573a54372e263"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>PCP private key structure. </p>
<p>Most fields are self explanatory.</p>
<p>Some notes:</p>
<p>'encrypted' contains the encrypted secret keys (contatenated mastersecret, secret and edsecret). If it's set, the field 'secret' which contains the clear secret key will be zeroed with random values, the first byte will be 0. Same for the field 'edsecret'.</p>
<p>'nonce' contains the nonce required to decrypt the encrypted secret, if set.</p>
<p>'serial' is a random number.</p>
<p>'id' is a string containing the hex values of the CRC32 checksum of the public and secret key.</p>
<p>Upon creation everything will be filled with random bytes. String fields will contain a string followed by 0 followed by the rest of the pre-filled random bytes. To denote a string field as empty, the first byte will be set to 0.</p>
<p>There are dynamically calculated attributes as well:</p>
<p>'checksum' is a 256 bit SHA hash of the public key returned by <a class="el" href="group__KEYS.html#gaa2678fef0a024456ee82d1bfa60c5fb2" title="Calculate a checksum of a public key part of the given secret key.">pcpkey_getchecksum()</a> or <a class="el" href="group__KEYS.html#ga78309dfa0b19b697ca64d8af2e7d796d" title="Calculate a checksum of a public key.">pcppubkey_getchecksum()</a>.</p>
<p>'random id' is a random art ascii image returned by <a class="el" href="group__KEYS.html#gabdc09d45ad7a6f9f039f9240635a743f" title="Generate an ASCII art image of the public key.">pcppubkey_get_art()</a> or <a class="el" href="group__KEYS.html#ga13aae5cf5986e308f1af674bedf0e6fd" title="Generate an ASCII art image of the public key part of a secret key.">pcpkey_get_art()</a>, calculated from the public key.</p>
<p>If exported to a single file or printed, the structure will be encoded using Z85 encoding. </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00093">93</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ac848ee41e72b2d4da0a85288f90165fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t _pcp_key_t::ctime</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>creation time, epoch </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00106">106</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5fbb76c6d2988ee039966c19e64440ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte _pcp_key_t::edpub[32]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ED25519 public signing key. </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00098">98</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<a class="anchor" id="a420b3fd1bc46d668c088c8360a53838d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte _pcp_key_t::edsecret[64]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ED25519 secret signing key. </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00099">99</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1da3d67421a27665dfe207403364a349"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte _pcp_key_t::encrypted[176]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>concatenated and encrypted secret keys </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00101">101</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<a class="anchor" id="a99e0435c5d7a074e5969e7a83bc93f67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char _pcp_key_t::id[17]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>key-id, used internally only, jenhash of public keys </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00104">104</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6259d3e70f1ae793398e2e83eba9ae6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char _pcp_key_t::mail[255]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>mail address of the owner, string </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00103">103</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<a class="anchor" id="a776b37491c8bfd98de8f239bb9a41695"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte _pcp_key_t::masterpub[32]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ED25519 master public key signing key. </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00094">94</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0df2e9e13765ae54213fb0e9cad65173"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte _pcp_key_t::mastersecret[64]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ED25519 master secret key signing key. </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00095">95</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4363b752a7242f0d789ec8ca75e1c426"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte _pcp_key_t::nonce[24]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>random nonce used to encrypt secret keys </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00100">100</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<a class="anchor" id="a058c2dce0c18939b2b6b7b0272a7095d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char _pcp_key_t::owner[255]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the key owner, string </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00102">102</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<a class="anchor" id="abf48278152e33968e634a4a5aea1076c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte _pcp_key_t::pub[32]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Curve25519 encryption public key. </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00096">96</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6d2a4ac0d698bc759b2a814f28d15282"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte _pcp_key_t::secret[32]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Curve25519 encryption secret key. </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00097">97</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<a class="anchor" id="a06aa6c7284118608fd6573a54372e263"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t _pcp_key_t::serial</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>serial number of the key, randomly generated </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00108">108</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5cefa1a4a2d1a49361aac5a3fb8d988f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t _pcp_key_t::type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>key type: MASTER_SECRET or SECRET </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00105">105</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<a class="anchor" id="af9f00779fcbbedaf0b17caa3f3a6fa30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t _pcp_key_t::version</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>key version </p>

<p>Definition at line <a class="el" href="key_8h_source.html#l00107">107</a> of file <a class="el" href="key_8h_source.html">key.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="key_8h_source.html">key.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Feb 20 2014 19:59:14 for libpcp by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
